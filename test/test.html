<!DOCTYPE html>
<html>
<head>
    <title>W2UI Demo: combo-9</title>
    <link rel="stylesheet" type="text/css" href="../dist/w2ui.min.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="http://underscorejs.org/underscore.js"></script>
    <script type="text/javascript" src="../dist/w2ui.min.js"></script>
    <script type="text/javascript" src="../src/w2utils.js"></script>
    <script type="text/javascript" src="../src/w2sidebar.js"></script>
    <script type="text/javascript" src="../src/w2popup.js"></script>
    <script type="text/javascript" src="../src/w2grid.js"></script>
    <script type="text/javascript" src="../src/w2fields.js"></script>
</head>
<body>

<div style="padding: 100px; top: 100px; border: 1px solid red; height: 500px; left: 0px; right: 0px; position: absolute; overflow: auto;">
    <div style="padding: 100px; height: 1000px;">
        <input id="some-input1"><br><br>
        <input id="some-input2"><br><br>
        <input id="some-input3"><br><br>
        <button class="w2ui-btn" onclick="validate()">Validate</button>
    </div>
</div>

<script type="text/javascript">

$().w2field('addType', 'myType', function (options) {
    $(this.el)
        .on('focus keyup', function (event) {
            if ($(this).data('w2tag') == null) {
                // already there
            } 
            if (this.value.length < 5) {
                $(this).w2tag({ 
                    html: 'Need to be at least 5 chars long, currently '+ this.value.length + ' chars', 
                    hideOnKeyPress: false,
                    hideOnBlur: true
                });
            } else {
                $(this).w2tag();
            }
        }
    );
});

$("#some-input1").w2field("myType");
$("#some-input2").w2field("myType");
$("#some-input3").w2field("myType");

function validate() {
    $("#some-input1").w2tag("Invalid");
    $("#some-input2").w2tag("Invalid");
    $("#some-input3").w2tag("Invalid");
}

</script>

</body>
</html>
