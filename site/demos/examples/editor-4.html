<div class="content">
    <div id="example_title">
        <h1>Add Buttons</h1>
        It is often that you need to extend the functionality of the editor. You can easily add toolbar items and call editor's methods to
        insert HTML or do other actions.
    </div>
    <div id="example_view"></div>
    <div id="example_code"></div>
</div>
    
<!--CODE-->
<textarea id="emailEditor" style="width: 100%; height: 250px; padding: 3px; border-radius: 3px; border: 1px solid silver;">This is a <b>text</b> area</textarea>
<div style="height: 20px"></div>
<input type="button" value="Add a Button" onclick="addButton()">
    
<!--CODE-->
<script>
$(document).ready(function () {
    if ($.w2ui['emailEditor']) $.w2ui['emailEditor'].destroy();
    $('#emailEditor').w2editor({ name: 'emailEditor', smallToolbar: true });
});

function addButton() {
    $.w2ui['emailEditor'].toolbar.add({ type: 'break', cmd: 'break1' });
    $.w2ui['emailEditor'].toolbar.add({ type: 'menu', cmd: 'insert-field', caption: 'Insert', img: 'icon-textfield-add', 
        items: [{ text: 'field1', value: 'field1' }, { text: 'field2', value: 'field2' } ],
        onClick: function (cmd, field) {
            if (cmd == 'insert-field' && String(field) != 'undefined') {
                $.w2ui['emailEditor'].insert('<span>' + field + '</span>'); 
                $.w2ui['emailEditor'].toolbar.doDropOut();
            }
        } 
    });
}
</script>
